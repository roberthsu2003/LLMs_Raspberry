# 目錄操作教學 – 教師示範指南

本檔案提供教師在課堂上示範「目錄操作」時的完整步驟與詳細說明，涵蓋基礎指令操作、常用參數應用與進階範例演練。請依序在終端機執行以下指令，並在每個步驟停下來為學生解說指令的目的與預期結果。

---

## 導覽：Linux 的檔案系統地圖

在開始操作之前，我們先來認識 Linux 的世界地圖——檔案系統。把 Linux 想成一座大城市，檔案和目錄就是裡面的建築和街道。了解地圖能讓你自如地穿梭其中。

### 重要的路徑符號

| 符號 | 名稱 | 意義 |
| :--: | :--- | :--- |
| **`/`** | **根目錄 (Root Directory)** | 這是 Linux 檔案系統的最高層級，所有檔案和目錄都在它底下。就像是整座城市的「市政廳」，是所有道路的起點。 |
| **`~`** | **家目錄 (Home Directory)** | 每個使用者登入後預設的個人專屬目錄。路徑通常是 `/home/你的使用者名稱` (例如 `/home/pi`)。這是你的「家」，你可以在這裡自由地存放檔案、建立目錄。 |
| **`.`** | **目前目錄 (Current Directory)** | 代表你當下所在的目錄。 |
| **`..`** | **上層目錄 (Parent Directory)** | 代表上一層的目錄。 |

### Raspberry Pi (Linux) 的重要目錄

就像城市有分住宅區、商業區、工業區，Linux 也有特定用途的目錄：

| 目錄 | 用途說明 |
| :--- | :--- |
| **/home** | **使用者家目錄**的所在地。例如 `pi` 使用者的家就在 `/home/pi`。 |
| **/boot** | 存放開機相關的檔案，例如 Linux 核心。這是系統啟動的心臟地帶。 |
| **/etc** | 存放所有系統層級的設定檔 (configuration files)。就像是城市的「法規區」。 |
| **/var** | 存放經常變動的檔案，例如系統日誌 (`/var/log`)、網頁內容 (`/var/www`)。 |
| **/bin** & **/usr/bin** | 存放使用者可以執行的基本指令 (binary files)，例如 `ls`, `cd`。 |
| **/tmp** | 存放臨時檔案的地方，系統重開機後內容可能會被清空。 |

### 為什麼要在「個人目錄」或 `Documents` 內建立檔案？

- **權限問題**：你的家目錄 (`~` 或 `/home/pi`) 是唯一你擁有完整權限的地方。你可以在這裡新增、修改、刪除任何檔案，而不會影響到系統。如果你嘗試在 `/etc` 或 `/bin` 這種系統目錄下建立檔案，通常會因為權限不足而失敗。
- **保持整潔**：把個人檔案放在家目錄中，可以避免與系統檔案混在一起，讓系統保持乾淨，也方便你管理自己的資料。
- **方便備份**：未來要備份個人資料時，只需要備份整個家目錄即可。
- **最佳實踐**：在 `~/Documents`, `~/Downloads`, `~/Projects` 等子目錄中分類存放檔案，是一種良好的習慣，能讓你的工作更有條理。

---

## 1. 確認目前位置 – 找到你的起點

```sh
# 顯示目前工作目錄的完整路徑
pwd
```

**教學說明**：  
`pwd` (Print Working Directory) 會顯示您當前所在的完整路徑，這是所有目錄操作的起點。就像在地圖上標記「您在此處」一樣，幫助學生建立空間概念。

**互動提問**：  
「你現在在哪個目錄？」、「這個路徑告訴我們什麼資訊？」

---

## 2. 檢視目錄內容 – 探索周圍環境

```sh
# 顯示隱藏檔與詳細資訊
ls -la
```

**教學說明**：  
`ls` (List) 用於顯示目錄內容：
- `-l` 提供長格式資訊（權限、擁有者、檔案大小、修改時間）
- `-a` 顯示所有檔案，包括以「.」開頭的隱藏檔
- `-h` (human-readable) 以易讀格式顯示檔案大小（如 1K、2M）

**互動提問**：  
「你看到哪些類型的檔案？」、「隱藏檔通常用來做什麼？」

---

## 3. 建立多層目錄結構 – 建立你的工作空間

```sh
# 一次建立 class_demo/lesson1 兩層目錄
mkdir -p class_demo/lesson1
```

**教學說明**：  
`mkdir` (Make Directory) 建立新目錄：
- `-p` (parents) 參數可以同時建立多層目錄
- 如果父目錄已存在，不會產生錯誤
- 這是建立複雜目錄結構時最安全的方式

**互動提問**：  
「如果不用 `-p` 參數會發生什麼事？」、「為什麼要一次建立多層目錄？」

---

## 4. 目錄導航 – 在檔案系統中移動

```sh
# 進入新建立的目錄
cd class_demo/lesson1
pwd    # 再次確認位置

# 返回上層目錄
cd ..
pwd    # 應該回到 class_demo

# 返回前一個工作目錄（實用技巧）
cd -
pwd
```

**教學說明**：  
`cd` (Change Directory) 用於切換目錄：
- `cd ..` 回到上一層目錄
- `cd -` 返回前一次所在的目錄（方便在兩個目錄間快速切換）
- `cd ~` 回到家目錄
- `cd /` 切換到根目錄

**互動提問**：  
「`cd -` 有什麼實際用途？」、「如何快速回到家目錄？」

---

## 5. 進階檔案篩選 – 精準找到你要的檔案

```sh
# 只列出 .txt 結尾的檔案
ls *.txt

# 列出目錄下的所有子目錄
ls -d */

# 列出所有 .md 檔案，並顯示詳細資訊
ls -l *.md
```

**教學說明**：  
使用萬用字元 (wildcards) 可以快速篩選特定類型的檔案：
- `*` 代表任意字元（零個或多個）
- `?` 代表單一字元
- `-d */` 僅顯示目錄本身，而不顯示目錄內的內容

**互動提問**：  
「如何使用萬用字元找出所有 .py 檔案？」、「`ls -d */` 和 `ls */` 有什麼不同？」

---

## 6. 安全刪除目錄 – 清理工作空間

```sh
# 先回到家目錄，確保不在要刪除的目錄內
cd ~

# 刪除先前建立的練習目錄
rmdir -p class_demo/lesson1
```

**教學說明**：  
`rmdir` (Remove Directory) 只能刪除空目錄：
- `-p` (parents) 會自動移除上層目錄（如果它們變成空的話）
- 這是安全刪除目錄的方式，避免誤刪含有檔案的目錄
- 如果要刪除含有檔案的目錄，需要使用 `rm -r`

**互動提問**：  
「為什麼 `rmdir` 只能刪除空目錄？」、「如果要刪除含有檔案的目錄該怎麼做？」

---

## 7. 進階範例：樹狀目錄結構檢視

```sh
# 使用 tree 指令顯示目錄結構（如果系統已安裝）
tree -L 2

# 如果未安裝 tree，可以先安裝
sudo apt update
sudo apt install -y tree
```

**教學說明**：  
`tree` 指令以樹狀圖方式呈現目錄層級結構：
- `-L 2` 限制顯示深度為兩層
- `-d` 只顯示目錄，不顯示檔案
- `-a` 顯示所有檔案（包括隱藏檔）

**互動提問**：  
「`tree` 指令在什麼情況下特別有用？」、「如何只顯示目錄結構而不顯示檔案？」

---

## 8. 實務應用：建立專案目錄結構

```sh
# 建立一個典型的網頁專案目錄結構
mkdir -p my_project/{src,css,js,images,docs,tests}

# 檢視建立結果
tree -L 2 my_project/
```

**教學說明**：  
這個範例展示如何使用大括號擴展 (brace expansion) 一次建立多個目錄：
- `{src,css,js,images,docs,tests}` 會建立六個子目錄
- 這是建立標準專案結構的高效方式

**互動提問**：  
「這種建立目錄的方式有什麼好處？」、「你的專案通常需要哪些目錄？」

---

## 9. 教學重點回顧

### 核心指令
- **`pwd`**：顯示目前工作目錄（定位）
- **`ls`**：列出目錄內容（探索）
- **`mkdir`**：建立新目錄（建立）
- **`cd`**：切換目錄（移動）
- **`rmdir`**：刪除空目錄（清理）

### 常用參數
- `ls -la`：詳細列出所有檔案
- `mkdir -p`：建立多層目錄
- `cd ..`：返回上層
- `cd -`：返回前次目錄

### 教學建議
1. **逐步示範**：每個指令都親自執行一遍，讓學生看到實際結果
2. **互動提問**：在關鍵步驟停下來詢問學生「你看到了什麼？」
3. **錯誤示範**：故意製造一些錯誤，讓學生看到錯誤訊息並學習如何解決
4. **實作練習**：示範完畢後，讓學生立即動手練習

---

## 10. 常見問題預判

### Q1: 為什麼我無法進入某個目錄？
**A**: 檢查目錄權限：`ls -ld <目錄名>`，可能需要使用 `sudo` 或變更權限

### Q2: `mkdir` 說目錄已存在怎麼辦？
**A**: 這是正常的，表示目錄已經建立。可以使用 `ls` 確認

### Q3: 如何快速切換到很深層的目錄？
**A**: 使用絕對路徑：`cd /home/pi/projects/lesson1/examples`

### Q4: `rmdir` 說目錄不是空的怎麼辦？
**A**: 先用 `ls` 檢查目錄內容，刪除所有檔案後再刪除目錄

---

**教學提醒**：  
請在每個步驟都停下來詢問學生「你看到什麼？」、「為什麼會這樣？」、「下一步應該做什麼？」，透過互動式教學加深學生對目錄操作的理解。祝教學順利！