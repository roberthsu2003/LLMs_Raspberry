
# Linux 指令基礎教學（新手入門指南）

> **教學目標**  
> 本教材專為 Linux 初學者設計，採用「教師示範 + 學生實作」的互動式教學模式，讓學員在動手練習中快速掌握常用指令、核心概念與問題排除技巧。內容由淺入深，循序漸進，最後提供進階範例與常見問題解答。

## 📂 課程模組
- **01_目錄操作** – `pwd`、`ls`、`cd`、`mkdir`、`rmdir`  
- **02_檔案操作** – `touch`、`cat`、`cp`、`mv`、`rm`、`nano`/`vim`  
- **03_權限操作** – `chmod`、`chown`、`chgrp`  
- **04_使用者與群組** – `whoami`、`id`、`groups`、`sudo`、`adduser`  
- **05_行程管理** – `ps`、`top`、`pgrep`、`kill`、`nohup`、`&`  
- **06_進階技巧** – `grep`、`find`、`alias`、`df`、`du`、`wget`/`curl`  
- **07_FAQ** – 常見問題與解決方案  
- **08_綜合測驗** – 實作評量學習成效

---

## 🎯 學習目標
1. **理解 Linux 檔案系統架構**與目錄層級結構  
2. **熟練操作檔案、目錄、權限、使用者與行程**的基礎指令  
3. **能在 Raspberry Pi 或其他 Linux 環境**下獨立完成日常操作與疑難排解  

---

## 1️⃣ 目錄操作 – 檔案系統的導航藝術

就像在陌生城市中需要地圖和路標一樣，Linux 的目錄操作指令幫助您在檔案系統中快速定位與移動。

| 指令 | 功能說明 | 常用參數 |
|------|----------|----------|
| `pwd` | 顯示目前工作目錄完整路徑 | - |
| `ls` | 列出目錄內容 | `-l`（詳細資訊）<br>`-a`（顯示隱藏檔）<br>`-h`（人性化檔案大小） |
| `cd` | 切換目錄 | `..`（上一層）<br>`-`（返回前次目錄）<br>`~`（家目錄） |
| `mkdir` | 建立新目錄 | `-p`（建立多層目錄） |
| `rmdir` | 刪除空目錄 | `-p`（刪除多層空目錄） |

### 實作示範
```sh
# 確認目前位置
pwd

# 檢視家目錄內容（包含隱藏檔）
ls -la ~

# 建立練習用目錄結構
mkdir -p class_demo/lesson1

# 進入目錄並驗證位置
cd class_demo/lesson1
pwd
```

### 練習任務
1. 在家目錄下建立 `practice_zone` 目錄  
2. 進入 `practice_zone`，使用 `pwd` 記錄完整路徑  
3. 返回上一層目錄 (`cd ..`)，再次確認目前位置  

---

## 2️⃣ 檔案操作 – 資料的管理與編輯

檔案是儲存資訊的基本單位，學會檔案操作等於掌握了資料管理的重要技能。

| 指令 | 功能說明 | 常用參數 |
|------|----------|----------|
| `touch` | 建立空檔案或更新時間戳記 | - |
| `cat` | 顯示檔案內容 | `-n`（顯示行號） |
| `cp` | 複製檔案或目錄 | `-r`（遞迴複製）<br>`-i`（互動確認） |
| `mv` | 移動或重新命名檔案/目錄 | `-i`（互動確認） |
| `rm` | 刪除檔案/目錄 | `-r`（刪除目錄）<br>`-i`（互動確認）<br>`-f`（強制刪除） |
| `nano` / `vim` | 文字編輯器 | - |

### 實作示範
```sh
# 建立空檔案
touch hello.txt

# 檢視檔案內容（目前為空）
cat hello.txt

# 重新命名檔案
mv hello.txt note.txt

# 建立備份檔案
cp note.txt backup.txt

# 刪除原始檔案
rm note.txt
```

### 練習任務
1. 進入 `practice_zone` 目錄  
2. 建立 `student.txt`，寫入內容：`echo "Hello Linux" > student.txt`  
3. 複製為 `student_backup.txt` 備份檔  
4. 刪除 `student.txt`，確認 `student_backup.txt` 仍然存在  

---

## 3️⃣ 權限操作 – 檔案存取的安全防護

Linux 的權限系統嚴謹而靈活，理解權限管理是系統安全的重要基礎。

### 權限概念
- **三種身份**：所有者 (owner)、群組 (group)、其他人 (others)  
- **三種權限**：讀取 (r)、寫入 (w)、執行 (x)

| 指令 | 功能說明 |
|------|----------|
| `ls -l` | 顯示詳細資訊，第一欄為權限設定 |
| `chmod` | 變更檔案/目錄權限（符號式或數字式） |
| `chown` | 變更檔案/目錄所有者 |
| `chgrp` | 變更檔案/目錄所屬群組 |

### 權限設定方式
**符號式設定**：
- `chmod u+x file` → 為所有者增加執行權限  
- `chmod go-w file` → 移除群組與其他人的寫入權限  

**數字式設定**：
- `chmod 755 script.sh` → `rwxr-xr-x`（所有者可讀寫執行，群組與其他人可讀執行）

### 實作示範
```sh
# 檢視檔案權限
ls -l student_backup.txt

# 移除寫入權限
chmod -w student_backup.txt

# 增加執行權限
chmod +x student_backup.txt

# 變更檔案所有者（需要管理員權限）
sudo chown pi:pi student_backup.txt
```

### 練習任務
1. 使用 `ls -l` 觀察 `student_backup.txt` 的目前權限  
2. 執行 `chmod 744 student_backup.txt`，再次檢查權限變化  
3. 若有 sudo 權限，嘗試 `sudo chown root:root student_backup.txt`，觀察 `ls -l` 結果  

---

## 4️⃣ 使用者與群組 – 系統資源的存取控管

了解使用者與群組管理，能幫助您更好地控制系統資源的存取權限。

| 指令 | 功能說明 |
|------|----------|
| `whoami` | 顯示目前使用者名稱 |
| `id` | 顯示使用者 ID (UID)、群組 ID (GID) 與所屬群組 |
| `groups` | 列出使用者所屬的所有群組 |
| `sudo` | 以管理員身份執行單一指令 |
| `adduser` / `useradd` | 新增使用者帳號 |
| `usermod` | 修改使用者屬性 |
| `groupadd` | 新增群組 |

### 實作示範
```sh
# 顯示目前使用者
whoami          # 例如：pi

# 顯示詳細的身份資訊
id              # 顯示 uid=1000(pi) gid=1000(pi) groups=1000(pi),27(sudo)

# 列出所屬群組
groups          # 列出使用者加入的所有群組

# 以管理員身份更新套件清單
sudo apt update
```

### 練習任務
1. 執行 `whoami` 並記錄結果  
2. 使用 `id` 觀察 UID、GID 與群組資訊  
3. 嘗試執行 `sudo apt update`（若無 sudo 權限，會顯示錯誤訊息）  

---

## 5️⃣ 行程管理 – 系統資源的監控與調度

行程管理讓您了解系統正在執行哪些程式，以及如何控制這些程式的生命週期。

| 指令 | 功能說明 |
|------|----------|
| `ps` | 顯示目前執行中的行程 |
| `top` / `htop` | 即時監控系統資源（CPU、記憶體使用率） |
| `pgrep` | 依程式名稱搜尋行程 PID |
| `kill` | 終止指定的行程 |
| `killall` | 依程式名稱終止多個行程 |
| `nohup` | 讓程式在背景持續執行（不受登出影響） |
| `&` | 將程式放到背景執行 |

### 實作示範
```sh
# 監控系統資源使用情況
top

# 列出所有行程，篩選 bash 相關行程
ps aux | grep bash

# 終止 PID 為 1234 的程式
kill 1234

# 終止所有名為 python 的程式
killall python
```

### 練習任務
1. 執行 `top`，觀察 CPU、Memory 使用率，按 `q` 離開  
2. 使用 `ps aux | grep top` 找出 `top` 程式的 PID，然後用 `kill` 終止該行程  

---

## 6️⃣ 進階技巧 – 提升效率的實用工具

掌握這些進階工具，能大幅提升您在 Linux 環境下的工作效率。

| 指令 | 功能說明 | 實用技巧 |
|------|----------|----------|
| `grep` | 文字搜尋工具 | `-i`（忽略大小寫）<br>`-R`（遞迴搜尋）<br>`-n`（顯示行號） |
| `find` | 檔案搜尋工具 | `find . -name "*.py"`（搜尋 Python 檔）<br>`-exec`（對搜尋結果執行指令） |
| `history` | 命令歷史記錄 | `history \| grep sudo`（快速搜尋過去的 sudo 指令） |
| `alias` | 指令別名設定 | `alias ll='ls -la'`（建立快捷指令） |
| `df -h` | 磁碟使用量檢查 | 顯示所有檔案系統的使用情況（可讀格式） |
| `du -sh *` | 目錄大小檢查 | 顯示當前目錄下各子目錄的大小 |
| `wget` / `curl` | 檔案下載工具 | 下載檔案或測試 API 端點 |
| `nano` vs `vim` | 文字編輯器選擇 | `nano` 適合初學者，`vim` 功能強大（可用 `vimtutor` 學習） |

---

## 7️⃣ 常見問題排除（FAQ）

### 1. 指令找不到 (`command not found`)
**問題原因**：系統找不到該指令的執行檔  
**解決方案**：
- 確認套件是否已安裝：`sudo apt install <package>`
- 檢查 `$PATH` 環境變數：`echo $PATH`

### 2. 權限不足 (`Permission denied`)
**問題原因**：目前使用者沒有足夠的權限執行該操作  
**解決方案**：
- 使用 `sudo` 提升權限：`sudo <command>`
- 檢查檔案/目錄權限：`ls -l <file>`
- 變更權限：`chmod` 或變更所有者：`chown`

### 3. 檔案或目錄不存在 (`No such file or directory`)
**問題原因**：指定的路徑不存在或拼寫錯誤  
**解決方案**：
- 用 `ls` 確認路徑拼寫是否正確
- 若路徑包含空格，使用引號：`cd "My Folder"` 或跳脫字元：`cd My\ Folder`
- 使用絕對路徑而非相對路徑

### 4. `apt` 更新失敗
**問題原因**：網路連線問題或套件庫設定錯誤  
**解決方案**：
- 確認網路連線正常
- 清除套件快取並重新更新：`sudo apt clean && sudo apt update`
- 檢查 `/etc/apt/sources.list` 設定檔

### 5. `top` 顯示亂碼
**問題原因**：系統語系設定不正確  
**解決方案**：
- 重新產生語系檔：`sudo locale-gen zh_TW.UTF-8`
- 更新語系設定：`sudo update-locale LANG=zh_TW.UTF-8`

---

## 📌 綜合測驗（實作挑戰）

完成以下任務，驗證您的學習成果：

1. **目錄操作**：在家目錄下建立 `final_test` 目錄  
2. **檔案操作**：在 `final_test` 中建立 `readme.md`，寫入「Hello Linux」  
3. **權限設定**：執行 `chmod 644 readme.md`（所有人可讀，只有所有者可寫）  
4. **權限驗證**：使用 `ls -l` 確認權限設定正確  
5. **進階挑戰**：執行 `chmod 755 readme.md`，觀察權限變化並理解差異

---

## 🎓 學習建議

- **循序漸進**：按照章節順序學習，確保基礎穩固後再進入下一階段
- **動手實作**：每個範例都親自操作一遍，加深記憶與理解
- **舉一反三**：嘗試修改範例指令的參數，觀察不同的執行結果
- **善用資源**：遇到問題時，使用 `man <command>` 查閱指令手冊
- **持續練習**：在日常工作中應用所學，熟能生巧

祝您學習愉快！如有任何問題，歡迎隨時尋求協助。