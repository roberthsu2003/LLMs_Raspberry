## Node.js_npm_ç’°å¢ƒé…ç½®

### æ¦‚è¿°

åœ¨ç¾ä»£å‰ç«¯é–‹ç™¼ä¸­ï¼Œç‰¹åˆ¥æ˜¯ä½¿ç”¨ TypeScript å’Œ React çš„å°ˆæ¡ˆï¼ŒNode.jsã€npm å’Œ package.json æ˜¯é–‹ç™¼ç’°å¢ƒçš„æ ¸å¿ƒåŸºç¤è¨­æ–½ã€‚æœ¬æ–‡ä»¶å°‡è©³ç´°ä»‹ç´¹é€™ä¸‰å€‹é‡è¦æ¦‚å¿µï¼Œä¸¦èªªæ˜å®ƒå€‘åœ¨ TypeScript + React å°ˆæ¡ˆé–‹ç™¼å’Œä½ˆç½²ä¸­çš„ä½œç”¨ã€‚

---

## ğŸ“¦ Node.js æ˜¯ä»€éº¼ï¼Ÿ

### å®šç¾©

**Node.js** æ˜¯ä¸€å€‹é–‹æºçš„ã€è·¨å¹³å°çš„ JavaScript åŸ·è¡Œç’°å¢ƒï¼ŒåŸºæ–¼ Chrome çš„ V8 JavaScript å¼•æ“ã€‚å®ƒè®“é–‹ç™¼è€…å¯ä»¥åœ¨ä¼ºæœå™¨ç«¯åŸ·è¡Œ JavaScriptï¼Œä¹Ÿæˆç‚ºç¾ä»£å‰ç«¯é–‹ç™¼å·¥å…·çš„é‹è¡ŒåŸºç¤ã€‚

### åœ¨å‰ç«¯é–‹ç™¼ä¸­çš„é‡è¦æ€§

é›–ç„¶ Node.js æœ€åˆæ˜¯ç‚ºä¼ºæœå™¨ç«¯é–‹ç™¼è¨­è¨ˆï¼Œä½†åœ¨å‰ç«¯é–‹ç™¼ä¸­æ‰®æ¼”é—œéµè§’è‰²ï¼š

1. **é–‹ç™¼å·¥å…·é‹è¡Œç’°å¢ƒ**
   - TypeScript ç·¨è­¯å™¨ï¼ˆtscï¼‰éœ€è¦åœ¨ Node.js ç’°å¢ƒä¸­é‹è¡Œ
   - React é–‹ç™¼ä¼ºæœå™¨ï¼ˆå¦‚ Viteã€Webpackï¼‰éœ€è¦ Node.js
   - å„ç¨®å»ºç½®å·¥å…·å’Œæ‰“åŒ…å·¥å…·éƒ½ä¾è³´ Node.js

2. **å¥—ä»¶ç®¡ç†**
   - npmï¼ˆNode Package Managerï¼‰æ˜¯ Node.js å…§å»ºçš„å¥—ä»¶ç®¡ç†å™¨
   - æ‰€æœ‰å‰ç«¯ä¾è³´å¥—ä»¶éƒ½é€šé Node.js ç’°å¢ƒå®‰è£å’Œç®¡ç†

3. **é–‹ç™¼ä¼ºæœå™¨**
   - æœ¬åœ°é–‹ç™¼æ™‚é‹è¡Œé–‹ç™¼ä¼ºæœå™¨ï¼ˆDevelopment Serverï¼‰
   - æä¾›ç†±é‡è¼‰ï¼ˆHot Reloadï¼‰ã€ä»£ç†ç­‰åŠŸèƒ½

### å®‰è£ Node.js

```bash
# æª¢æŸ¥ Node.js ç‰ˆæœ¬
node --version

# æª¢æŸ¥ npm ç‰ˆæœ¬
npm --version
```

**å»ºè­°**ï¼šä½¿ç”¨ LTSï¼ˆLong Term Supportï¼‰ç‰ˆæœ¬ï¼Œç¢ºä¿ç©©å®šæ€§å’Œé•·æœŸæ”¯æ´ã€‚

---

## ğŸ“‹ npm æ˜¯ä»€éº¼ï¼Ÿ

### å®šç¾©

**npm**ï¼ˆNode Package Managerï¼‰æ˜¯ Node.js çš„å¥—ä»¶ç®¡ç†å™¨ï¼Œä¹Ÿæ˜¯ä¸–ç•Œä¸Šæœ€å¤§çš„è»Ÿé«”è¨»å†Šè¡¨ã€‚å®ƒè®“é–‹ç™¼è€…å¯ä»¥è¼•é¬†åœ°å®‰è£ã€ç®¡ç†å’Œåˆ†äº« JavaScript å¥—ä»¶ã€‚

### æ ¸å¿ƒåŠŸèƒ½

1. **å¥—ä»¶å®‰è£**
   ```bash
   # å®‰è£å¥—ä»¶åˆ°å°ˆæ¡ˆï¼ˆæœƒåŠ å…¥åˆ° dependenciesï¼‰
   npm install <package-name>
   
   # å®‰è£é–‹ç™¼æ™‚ä¾è³´ï¼ˆæœƒåŠ å…¥åˆ° devDependenciesï¼‰
   npm install --save-dev <package-name>
   
   # å…¨åŸŸå®‰è£
   npm install -g <package-name>
   ```

2. **å°ˆæ¡ˆåˆå§‹åŒ–**
   ```bash
   # å‰µå»ºæ–°çš„ package.json æª”æ¡ˆ
   npm init
   
   # ä½¿ç”¨é è¨­å€¼å¿«é€Ÿåˆå§‹åŒ–
   npm init -y
   ```

3. **è…³æœ¬åŸ·è¡Œ**
   ```bash
   # åŸ·è¡Œ package.json ä¸­å®šç¾©çš„è…³æœ¬
   npm run <script-name>
   
   # åŸ·è¡Œæ¸¬è©¦
   npm test
   
   # å•Ÿå‹•å°ˆæ¡ˆ
   npm start
   ```

### åœ¨ TypeScript + React å°ˆæ¡ˆä¸­çš„å¸¸è¦‹ç”¨æ³•

```bash
# å®‰è£ React å’Œç›¸é—œå¥—ä»¶
npm install react react-dom

# å®‰è£ TypeScript å’Œé¡å‹å®šç¾©ï¼ˆé–‹ç™¼ä¾è³´ï¼‰
npm install --save-dev typescript @types/react @types/react-dom

# å®‰è£å»ºç½®å·¥å…·ï¼ˆå¦‚ Viteï¼‰
npm install --save-dev vite @vitejs/plugin-react

# å®‰è£æ¸¬è©¦å·¥å…·
npm install --save-dev vitest @testing-library/react
```

---

## ğŸ“„ package.json æ˜¯ä»€éº¼ï¼Ÿ

### å®šç¾©

**package.json** æ˜¯ Node.js å°ˆæ¡ˆçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®šç¾©äº†å°ˆæ¡ˆçš„å…ƒæ•¸æ“šã€ä¾è³´å¥—ä»¶ã€è…³æœ¬æŒ‡ä»¤ç­‰è³‡è¨Šã€‚å®ƒæ˜¯å°ˆæ¡ˆçš„ã€Œèº«ä»½è­‰ã€å’Œã€Œèªªæ˜æ›¸ã€ã€‚

### åŸºæœ¬çµæ§‹

```json
{
  "name": "my-react-app",
  "version": "1.0.0",
  "description": "æˆ‘çš„ React + TypeScript å°ˆæ¡ˆ",
  "main": "index.js",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "@vitejs/plugin-react": "^4.0.0",
    "typescript": "^5.0.0",
    "vite": "^4.3.0"
  }
}
```

### é‡è¦æ¬„ä½èªªæ˜

#### 1. **åŸºæœ¬è³‡è¨Š**
- `name`: å°ˆæ¡ˆåç¨±ï¼ˆå¿…é ˆå”¯ä¸€ï¼Œå¦‚æœè¦ç™¼ä½ˆåˆ° npmï¼‰
- `version`: å°ˆæ¡ˆç‰ˆæœ¬è™Ÿï¼ˆéµå¾ªèªç¾©åŒ–ç‰ˆæœ¬ SemVerï¼‰
- `description`: å°ˆæ¡ˆæè¿°
- `license`: æˆæ¬Šæ–¹å¼ï¼ˆå¦‚ MITã€ISCï¼‰
- `author`: ä½œè€…è³‡è¨Š

#### 2. **scriptsï¼ˆè…³æœ¬æŒ‡ä»¤ï¼‰**

å®šç¾©å¯åœ¨ `npm run` å‘½ä»¤ä¸­åŸ·è¡Œçš„è…³æœ¬ï¼š

```json
"scripts": {
  "dev": "vite",                          // é–‹ç™¼ä¼ºæœå™¨
  "build": "tsc && vite build",           // ç·¨è­¯ TypeScript ä¸¦å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
  "build:prod": "npm run build",          // ç”Ÿç”¢ç’°å¢ƒå»ºç½®
  "preview": "vite preview",              // é è¦½å»ºç½®çµæœ
  "lint": "eslint . --ext ts,tsx",        // ç¨‹å¼ç¢¼æª¢æŸ¥
  "type-check": "tsc --noEmit",           // TypeScript é¡å‹æª¢æŸ¥
  "test": "vitest",                       // åŸ·è¡Œæ¸¬è©¦
  "clean": "rm -rf dist node_modules"     // æ¸…ç†å»ºç½®æª”æ¡ˆ
}
```

**ä½¿ç”¨æ–¹å¼**ï¼š
```bash
npm run dev        # å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run build      # å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
npm run lint       # åŸ·è¡Œç¨‹å¼ç¢¼æª¢æŸ¥
```

#### 3. **dependenciesï¼ˆç”Ÿç”¢ä¾è³´ï¼‰**

å°ˆæ¡ˆé‹è¡Œæ™‚éœ€è¦çš„å¥—ä»¶ï¼Œæœƒè¢«æ‰“åŒ…åˆ°æœ€çµ‚ç”¢å“ä¸­ï¼š

```json
"dependencies": {
  "react": "^18.2.0",
  "react-dom": "^18.2.0",
  "react-router-dom": "^6.15.0"
}
```

#### 4. **devDependenciesï¼ˆé–‹ç™¼ä¾è³´ï¼‰**

åªåœ¨é–‹ç™¼æ™‚éœ€è¦çš„å¥—ä»¶ï¼Œä¸æœƒè¢«æ‰“åŒ…åˆ°ç”Ÿç”¢ç‰ˆæœ¬ï¼š

```json
"devDependencies": {
  "typescript": "^5.2.0",
  "@types/react": "^18.2.0",
  "@types/react-dom": "^18.2.0",
  "@vitejs/plugin-react": "^4.0.9",
  "vite": "^4.4.5",
  "eslint": "^8.47.0",
  "@typescript-eslint/parser": "^6.4.0"
}
```

**ç‚ºä»€éº¼è¦åˆ†é–‹ï¼Ÿ**
- æ¸›å°‘ç”Ÿç”¢ç‰ˆæœ¬çš„æª”æ¡ˆå¤§å°
- æ˜ç¢ºå€åˆ†é–‹ç™¼å·¥å…·å’Œé‹è¡Œæ™‚ä¾è³´
- æé«˜å®‰è£é€Ÿåº¦ï¼ˆåœ¨ç”Ÿç”¢ç’°å¢ƒåªéœ€å®‰è£ dependenciesï¼‰

#### 5. **å…¶ä»–é‡è¦æ¬„ä½**

```json
{
  "type": "module",                    // ä½¿ç”¨ ES æ¨¡çµ„ï¼ˆimport/exportï¼‰
  "main": "dist/index.js",             // ä¸»è¦é€²å…¥é»
  "module": "dist/index.esm.js",       // ES æ¨¡çµ„ç‰ˆæœ¬
  "types": "dist/index.d.ts",          // TypeScript é¡å‹å®šç¾©æª”æ¡ˆ
  "engines": {                         // Node.js ç‰ˆæœ¬è¦æ±‚
    "node": ">=18.0.0"
  },
  "browserslist": [                    // ç€è¦½å™¨æ”¯æ´ç¯„åœ
    "> 1%",
    "last 2 versions"
  ]
}
```

---

## ğŸ”„ ä¸‰è€…ä¹‹é–“çš„é—œä¿‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Node.js       â”‚  â† åŸ·è¡Œç’°å¢ƒï¼ˆé‹è¡Œ JavaScriptï¼‰
â”‚   (åŸ·è¡Œç’°å¢ƒ)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ å…§å»º
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   npm           â”‚  â† å¥—ä»¶ç®¡ç†å™¨ï¼ˆå®‰è£ã€ç®¡ç†å¥—ä»¶ï¼‰
â”‚   (å·¥å…·)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ è®€å–/å¯«å…¥
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ package.json    â”‚  â† é…ç½®æ–‡ä»¶ï¼ˆå®šç¾©å°ˆæ¡ˆè³‡è¨Šï¼‰
â”‚   (é…ç½®)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å·¥ä½œæµç¨‹

1. **åˆå§‹åŒ–å°ˆæ¡ˆ**
   ```bash
   npm init -y              # å‰µå»º package.json
   ```

2. **å®‰è£ä¾è³´**
   ```bash
   npm install react        # npm è®€å– package.jsonï¼Œå®‰è£å¥—ä»¶åˆ° node_modules
   ```

3. **åŸ·è¡Œè…³æœ¬**
   ```bash
   npm run build            # npm è®€å– package.json çš„ scriptsï¼ŒåŸ·è¡Œå»ºç½®æŒ‡ä»¤
   ```

---

## ğŸš€ åœ¨ TypeScript + React å°ˆæ¡ˆä¸­çš„å¯¦éš›æ‡‰ç”¨

### å…¸å‹çš„å·¥ä½œæµç¨‹

#### 1. **å°ˆæ¡ˆåˆå§‹åŒ–**

```bash
# å‰µå»ºæ–°å°ˆæ¡ˆ
npm create vite@latest my-react-app -- --template react-ts

# é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd my-react-app

# å®‰è£ä¾è³´
npm install
```

#### 2. **é–‹ç™¼éšæ®µ**

```json
"scripts": {
  "dev": "vite",                    // å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼ˆæ”¯æ´ç†±é‡è¼‰ï¼‰
  "type-check": "tsc --noEmit"      // æª¢æŸ¥ TypeScript é¡å‹éŒ¯èª¤
}
```

```bash
npm run dev              # å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼ˆé€šå¸¸åœ¨ http://localhost:5173ï¼‰
```

#### 3. **å»ºç½®éšæ®µ**

```json
"scripts": {
  "build": "tsc && vite build"      // ç·¨è­¯ TypeScript + æ‰“åŒ… React æ‡‰ç”¨
}
```

```bash
npm run build            # ç”Ÿæˆç”Ÿç”¢ç‰ˆæœ¬çš„æª”æ¡ˆåˆ° dist/ ç›®éŒ„
```

#### 4. **éƒ¨ç½²éšæ®µ**

```bash
# ç”Ÿç”¢ç’°å¢ƒå®‰è£ï¼ˆåªå®‰è£ dependenciesï¼Œä¸å®‰è£ devDependenciesï¼‰
npm install --production

# å»ºç½®å°ˆæ¡ˆ
npm run build

# éƒ¨ç½² dist/ ç›®éŒ„çš„å…§å®¹åˆ°éœæ…‹ç¶²ç«™æ‰˜ç®¡æœå‹™
# ï¼ˆå¦‚ Vercelã€Netlifyã€GitHub Pages ç­‰ï¼‰
```

---

## ğŸ“¦ package-lock.json å’Œ node_modules

### package-lock.json

- **ä½œç”¨**ï¼šé–å®šæ‰€æœ‰ä¾è³´å¥—ä»¶çš„ç¢ºåˆ‡ç‰ˆæœ¬
- **é‡è¦æ€§**ï¼šç¢ºä¿ä¸åŒç’°å¢ƒä¸‹å®‰è£ç›¸åŒç‰ˆæœ¬çš„å¥—ä»¶
- **å»ºè­°**ï¼šæ‡‰è©²æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»çµ±ï¼ˆGitï¼‰

### node_modules

- **ä½œç”¨**ï¼šå­˜æ”¾æ‰€æœ‰å®‰è£çš„å¥—ä»¶å’Œå…¶ä¾è³´
- **ç‰¹é»**ï¼šæª”æ¡ˆå¾ˆå¤§ï¼Œé€šå¸¸ä¸æ‡‰è©²æäº¤åˆ° Git
- **ç®¡ç†**ï¼šé€šé `.gitignore` æ’é™¤ï¼Œé€é `npm install` é‡æ–°ç”Ÿæˆ

---

## ğŸ¯ æœ€ä½³å¯¦è¸

1. **ç‰ˆæœ¬ç®¡ç†**
   - ä½¿ç”¨èªç¾©åŒ–ç‰ˆæœ¬ï¼ˆSemVerï¼‰
   - ä½¿ç”¨ `^` æˆ– `~` æ§åˆ¶ç‰ˆæœ¬æ›´æ–°ç¯„åœ

2. **ä¾è³´åˆ†é¡**
   - æ˜ç¢ºå€åˆ† `dependencies` å’Œ `devDependencies`
   - ç”Ÿç”¢ç’°å¢ƒåªéœ€ `dependencies`

3. **è…³æœ¬çµ„ç¹”**
   - ä½¿ç”¨æè¿°æ€§çš„è…³æœ¬åç¨±
   - çµ„åˆå¤šå€‹æŒ‡ä»¤æ™‚ä½¿ç”¨ `&&`

4. **ç’°å¢ƒè®Šæ•¸**
   - ä½¿ç”¨ `.env` æª”æ¡ˆç®¡ç†ç’°å¢ƒè®Šæ•¸
   - ä¸åŒç’°å¢ƒä½¿ç”¨ä¸åŒçš„é…ç½®æª”æ¡ˆ

5. **å®‰å…¨æ€§**
   - å®šæœŸæ›´æ–°ä¾è³´å¥—ä»¶
   - ä½¿ç”¨ `npm audit` æª¢æŸ¥å®‰å…¨æ€§æ¼æ´

---

## ğŸ”— ç›¸é—œè³‡æº

- [Node.js å®˜æ–¹æ–‡ä»¶](https://nodejs.org/zh-tw/docs)
- [npm å®˜æ–¹æ–‡ä»¶](https://docs.npmjs.com/)
- [package.json å®Œæ•´æ–‡ä»¶](https://docs.npmjs.com/cli/v9/configuring-npm/package-json)
- [èªç¾©åŒ–ç‰ˆæœ¬è¦ç¯„](https://semver.org/lang/zh-TW/)

---

## ğŸ“ ç¸½çµ

- **Node.js**ï¼šæä¾› JavaScript åŸ·è¡Œç’°å¢ƒï¼Œè®“å‰ç«¯é–‹ç™¼å·¥å…·å¾—ä»¥é‹è¡Œ
- **npm**ï¼šç®¡ç†å°ˆæ¡ˆçš„å¥—ä»¶ä¾è³´ï¼Œæ˜¯å®‰è£å’Œç®¡ç†å·¥å…·çš„ä»‹é¢
- **package.json**ï¼šå®šç¾©å°ˆæ¡ˆé…ç½®ï¼Œæ˜¯å°ˆæ¡ˆçš„ã€Œèªªæ˜æ›¸ã€å’Œã€ŒæŒ‡ä»¤é›†ã€

ä¸‰è€…å”åŒå·¥ä½œï¼Œæ§‹æˆäº†ç¾ä»£å‰ç«¯é–‹ç™¼ï¼ˆç‰¹åˆ¥æ˜¯ TypeScript + Reactï¼‰çš„åŸºç¤æ¶æ§‹ï¼Œè®“é–‹ç™¼è€…èƒ½å¤ é«˜æ•ˆåœ°é–‹ç™¼ã€å»ºç½®å’Œéƒ¨ç½²æ‡‰ç”¨ç¨‹å¼ã€‚
