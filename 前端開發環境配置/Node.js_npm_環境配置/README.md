## Node.js_npm_ç’°å¢ƒé…ç½®

### æ¦‚è¿°

åœ¨ç¾ä»£å‰ç«¯é–‹ç™¼ä¸­ï¼Œç‰¹åˆ¥æ˜¯ä½¿ç”¨ TypeScript å’Œ React çš„å°ˆæ¡ˆï¼ŒNode.jsã€npm å’Œ package.json æ˜¯é–‹ç™¼ç’°å¢ƒçš„æ ¸å¿ƒåŸºç¤è¨­æ–½ã€‚æœ¬æ–‡ä»¶å°‡è©³ç´°ä»‹ç´¹é€™ä¸‰å€‹é‡è¦æ¦‚å¿µï¼Œä¸¦èªªæ˜å®ƒå€‘åœ¨ TypeScript + React å°ˆæ¡ˆé–‹ç™¼å’Œä½ˆç½²ä¸­çš„ä½œç”¨ã€‚

---

## ğŸ“¦ Node.js æ˜¯ä»€éº¼ï¼Ÿ

### å®šç¾©

**Node.js** æ˜¯ä¸€å€‹é–‹æºçš„ã€è·¨å¹³å°çš„ JavaScript åŸ·è¡Œç’°å¢ƒï¼ŒåŸºæ–¼ Chrome çš„ V8 JavaScript å¼•æ“ã€‚å®ƒè®“é–‹ç™¼è€…å¯ä»¥åœ¨ä¼ºæœå™¨ç«¯åŸ·è¡Œ JavaScriptï¼Œä¹Ÿæˆç‚ºç¾ä»£å‰ç«¯é–‹ç™¼å·¥å…·çš„é‹è¡ŒåŸºç¤ã€‚

### åœ¨å‰ç«¯é–‹ç™¼ä¸­çš„é‡è¦æ€§

é›–ç„¶ Node.js æœ€åˆæ˜¯ç‚ºä¼ºæœå™¨ç«¯é–‹ç™¼è¨­è¨ˆï¼Œä½†åœ¨å‰ç«¯é–‹ç™¼ä¸­æ‰®æ¼”é—œéµè§’è‰²ï¼š

1. **é–‹ç™¼å·¥å…·é‹è¡Œç’°å¢ƒ**
   - TypeScript ç·¨è­¯å™¨ï¼ˆtscï¼‰éœ€è¦åœ¨ Node.js ç’°å¢ƒä¸­é‹è¡Œ
   - React é–‹ç™¼ä¼ºæœå™¨ï¼ˆå¦‚ Viteã€Webpackï¼‰éœ€è¦ Node.js
   - å„ç¨®å»ºç½®å·¥å…·å’Œæ‰“åŒ…å·¥å…·éƒ½ä¾è³´ Node.js

2. **å¥—ä»¶ç®¡ç†**
   - npmï¼ˆNode Package Managerï¼‰æ˜¯ Node.js å…§å»ºçš„å¥—ä»¶ç®¡ç†å™¨
   - æ‰€æœ‰å‰ç«¯ä¾è³´å¥—ä»¶éƒ½é€šé Node.js ç’°å¢ƒå®‰è£å’Œç®¡ç†

3. **é–‹ç™¼ä¼ºæœå™¨**
   - æœ¬åœ°é–‹ç™¼æ™‚é‹è¡Œé–‹ç™¼ä¼ºæœå™¨ï¼ˆDevelopment Serverï¼‰
   - æä¾›ç†±é‡è¼‰ï¼ˆHot Reloadï¼‰ã€ä»£ç†ç­‰åŠŸèƒ½

### å®‰è£ Node.js

```bash
# æª¢æŸ¥ Node.js ç‰ˆæœ¬
node --version

# æª¢æŸ¥ npm ç‰ˆæœ¬
npm --version
```

**å»ºè­°**ï¼šä½¿ç”¨ LTSï¼ˆLong Term Supportï¼‰ç‰ˆæœ¬ï¼Œç¢ºä¿ç©©å®šæ€§å’Œé•·æœŸæ”¯æ´ã€‚

---

## ğŸ“‹ npm æ˜¯ä»€éº¼ï¼Ÿ

### å®šç¾©

**npm**ï¼ˆNode Package Managerï¼‰æ˜¯ Node.js çš„å¥—ä»¶ç®¡ç†å™¨ï¼Œä¹Ÿæ˜¯ä¸–ç•Œä¸Šæœ€å¤§çš„è»Ÿé«”è¨»å†Šè¡¨ã€‚å®ƒè®“é–‹ç™¼è€…å¯ä»¥è¼•é¬†åœ°å®‰è£ã€ç®¡ç†å’Œåˆ†äº« JavaScript å¥—ä»¶ã€‚

### æ ¸å¿ƒåŠŸèƒ½

1. **å¥—ä»¶å®‰è£**
   ```bash
   # å®‰è£å¥—ä»¶åˆ°å°ˆæ¡ˆï¼ˆæœƒåŠ å…¥åˆ° dependenciesï¼‰
   npm install <package-name>
   
   # å®‰è£é–‹ç™¼æ™‚ä¾è³´ï¼ˆæœƒåŠ å…¥åˆ° devDependenciesï¼‰
   npm install --save-dev <package-name>
   
   # å…¨åŸŸå®‰è£
   npm install -g <package-name>
   ```

### ä¸‰ç¨®å®‰è£æ–¹å¼çš„è©³ç´°èªªæ˜

é€™ä¸‰ç¨®å®‰è£æ–¹å¼ï¼Œä¸»è¦å·®åœ¨ã€Œè£åˆ°å“ªè£¡ã€ä»¥åŠã€Œåœ¨å°ˆæ¡ˆç”Ÿå‘½é€±æœŸæ‰®æ¼”ä»€éº¼è§’è‰²ã€ã€‚

#### 1. `npm install <package-name>`

- **å®‰è£ä½ç½®**ï¼šè£åˆ°ã€Œç›®å‰å°ˆæ¡ˆã€åº•ä¸‹ï¼ˆ`node_modules` ç›®éŒ„ï¼‰
- **å¯«å…¥ä½ç½®**ï¼šæœƒå¯«é€² `package.json` çš„ **dependencies**
- **ä»£è¡¨æ„ç¾©**ï¼šé€™å€‹å¥—ä»¶åœ¨ã€Œå°ˆæ¡ˆåŸ·è¡Œæ™‚ã€æœƒç”¨åˆ°
- **å…¸å‹ç¯„ä¾‹**ï¼šReactã€react-domã€axiosã€react-router-dom ç­‰é‹è¡Œæ™‚éœ€è¦çš„åº«

```bash
npm install react react-dom
# åŸ·è¡Œå¾Œæœƒåœ¨ package.json çš„ dependencies ä¸­çœ‹åˆ°ï¼š
# "dependencies": {
#   "react": "^18.2.0",
#   "react-dom": "^18.2.0"
# }
```

#### 2. `npm install --save-dev <package-name>`

- **å®‰è£ä½ç½®**ï¼šä¸€æ¨£è£åˆ°ç›®å‰å°ˆæ¡ˆï¼ˆ`node_modules` ç›®éŒ„ï¼‰
- **å¯«å…¥ä½ç½®**ï¼šæœƒå¯«é€² `package.json` çš„ **devDependencies**
- **ä»£è¡¨æ„ç¾©**ï¼šåªåœ¨ã€Œé–‹ç™¼æˆ–å»ºç½®éšæ®µã€æœƒç”¨åˆ°ï¼Œä¸æœƒè¢«æ‰“åŒ…åˆ°ç”Ÿç”¢ç‰ˆæœ¬
- **å…¸å‹ç¯„ä¾‹**ï¼šTypeScriptã€ESLintã€Viteã€æ¸¬è©¦æ¡†æ¶ï¼ˆVitestã€Jestï¼‰ã€å»ºç½®å·¥å…·ç­‰

```bash
npm install --save-dev typescript vite @vitejs/plugin-react
# åŸ·è¡Œå¾Œæœƒåœ¨ package.json çš„ devDependencies ä¸­çœ‹åˆ°ï¼š
# "devDependencies": {
#   "typescript": "^5.2.0",
#   "vite": "^4.4.5",
#   "@vitejs/plugin-react": "^4.0.9"
# }
```

#### 3. `npm install -g <package-name>`

- **å®‰è£ä½ç½®**ï¼šè£åˆ°ã€Œå…¨åŸŸç’°å¢ƒã€ï¼Œä¸æ˜¯å°ˆæ¡ˆç›®éŒ„ä¸‹
- **å¯«å…¥ä½ç½®**ï¼š**ä¸æœƒå¯«é€²**ç›®å‰å°ˆæ¡ˆçš„ `package.json`
- **ä»£è¡¨æ„ç¾©**ï¼šé€™å€‹å¥—ä»¶é€šå¸¸æ˜¯ç•¶æˆã€Œå‘½ä»¤åˆ—å·¥å…·ã€ä¾†ç”¨ï¼Œå¯ä»¥åœ¨ä»»ä½•è³‡æ–™å¤¾ä¸‹åŸ·è¡ŒæŒ‡ä»¤
- **å…¸å‹ç¯„ä¾‹**ï¼šnpmã€pnpmã€eslint CLIã€typescript çš„ tscã€create-viteã€create-react-app ç­‰å…¨åŸŸå·¥å…·

```bash
npm install -g typescript
# å®‰è£å¾Œå¯ä»¥åœ¨ä»»ä½•ç›®éŒ„ä¸‹ç›´æ¥ä½¿ç”¨ï¼š
tsc --version
# è€Œä¸éœ€è¦åœ¨å°ˆæ¡ˆä¸­åŸ·è¡Œ
```

### ä»€éº¼æ™‚å€™ç”¨å“ªä¸€ç¨®ï¼Ÿ

- **å°ˆæ¡ˆåŸ·è¡Œæœƒç”¨åˆ°çš„åº«** â†’ ç”¨ `npm install`ï¼Œè®“å®ƒé€² `dependencies`
  - ä¾‹å¦‚ï¼šReactã€Vueã€Angularã€ç‹€æ…‹ç®¡ç†åº«ã€UI å…ƒä»¶åº«ç­‰

- **åªåœ¨é–‹ç™¼ã€æ¸¬è©¦ã€å»ºç½®ç”¨çš„å·¥å…·** â†’ ç”¨ `npm install --save-dev`ï¼Œè®“å®ƒé€² `devDependencies`
  - ä¾‹å¦‚ï¼šTypeScriptã€ESLintã€Prettierã€å»ºç½®å·¥å…·ï¼ˆViteã€Webpackï¼‰ã€æ¸¬è©¦æ¡†æ¶ç­‰

- **æƒ³åœ¨ä»»ä½•å°ˆæ¡ˆã€ä»»ä½•è³‡æ–™å¤¾éƒ½å¯ä»¥ç›´æ¥ä¸‹æŒ‡ä»¤çš„å·¥å…·** â†’ ç”¨ `npm install -g`
  - ä¾‹å¦‚ï¼šå…¨åŸŸ CLI å·¥å…·ã€è…³æ‰‹æ¶å·¥å…·ç­‰

**å»ºè­°**ï¼šåœ¨æ•™å­¸æˆ–å¯¦å‹™å°ˆæ¡ˆä¸­ï¼Œé€šå¸¸æœƒé¼“å‹µå…ˆä»¥ã€Œå°ˆæ¡ˆæœ¬åœ°å®‰è£ã€ï¼ˆå‰å…©ç¨®ï¼‰ç‚ºä¸»ï¼Œåªæœ‰çœŸçš„éœ€è¦å…¨åŸŸ CLI æ™‚æ‰ç”¨ `-g`ã€‚é€™æ¨£å¯ä»¥ç¢ºä¿å°ˆæ¡ˆçš„ä¾è³´é—œä¿‚æ˜ç¢ºï¼Œä¸¦ä¸”ä¸åŒå°ˆæ¡ˆå¯ä»¥ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„åŒä¸€å·¥å…·ã€‚

2. **å°ˆæ¡ˆåˆå§‹åŒ–**
   ```bash
   # å‰µå»ºæ–°çš„ package.json æª”æ¡ˆ
   npm init
   
   # ä½¿ç”¨é è¨­å€¼å¿«é€Ÿåˆå§‹åŒ–
   npm init -y
   ```

3. **è…³æœ¬åŸ·è¡Œ**
   ```bash
   # åŸ·è¡Œ package.json ä¸­å®šç¾©çš„è…³æœ¬
   npm run <script-name>
   
   # åŸ·è¡Œæ¸¬è©¦
   npm test
   
   # å•Ÿå‹•å°ˆæ¡ˆ
   npm start
   ```

### npm scripts çš„è©³ç´°èªªæ˜

å¯ä»¥æŠŠ `npm run`ã€`npm test`ã€`npm start` å…¨éƒ¨ç•¶æˆã€Œå¹«ä½ ä¸‹é•·æŒ‡ä»¤çš„å¿«æ·éµã€ã€‚ä»¥ä¸‹ç”¨å…·é«”æƒ…å¢ƒä¾†èªªæ˜ï¼š

#### æ ¸å¿ƒæ¦‚å¿µ

- **package.json = é™æ§å™¨çš„æŒ‰éˆ•èªªæ˜è¡¨**ï¼š  
  `scripts` è£¡é¢æ¯ä¸€è¡Œï¼Œå°±æ˜¯å¹«æŸå€‹ã€ŒæŒ‰éˆ•ã€å–åå­—ï¼Œä¾‹å¦‚ï¼š`"dev": "vite"`ã€`"build": "tsc && vite build"`ã€‚

- **npm run XXX = æŒ‰ä¸‹é‚£é¡†æŒ‰éˆ•**ï¼š  
  `npm run dev` å°±æ˜¯ã€ŒæŒ‰ä¸‹ dev æŒ‰éˆ•ã€ï¼Œå¯¦éš›åœ¨èƒŒå¾Œå¹«ä½ åŸ·è¡Œ `vite` é€™å€‹æŒ‡ä»¤ã€‚

**é‡è¦è§€å¿µ**ï¼š`npm run` å¾Œé¢æ¥çš„æ˜¯ã€ŒæŒ‰éˆ•åå­—ã€ï¼Œä¸æ˜¯ç³»çµ±æŒ‡ä»¤æœ¬èº«ã€‚

#### å¯¦ä¾‹ 1ï¼šå•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼ˆnpm run devï¼‰

å‡è¨­ `package.json` è£¡æœ‰é€™æ®µï¼š

```json
"scripts": {
  "dev": "vite"
}
```

**èªªæ˜**ï¼š

- å¦‚æœä¸ç”¨ `npm run`ï¼ŒåŸæœ¬è¦æ‰“çš„æŒ‡ä»¤æ˜¯ï¼š`vite`
- ä½†ä½¿ç”¨ `npm run dev` æ™‚ï¼Œnpm æœƒå» `package.json` æ‰¾ `dev` é€™å€‹è…³æœ¬ï¼Œå¹«ä½ åŸ·è¡Œ `vite`
- **æ‰€ä»¥åœ¨é–‹ç™¼æ™‚ï¼Œåªè¦è¨˜å¾—æ‰“ `npm run dev` å°±å¯ä»¥å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨**

**æµç¨‹åœ–**ï¼š

```
å­¸ç”Ÿæ‰“ï¼šnpm run dev
  â†“
npm å»çœ‹ package.json
  â†“
æ‰¾åˆ° "dev": "vite"
  â†“
å¯¦éš›åŸ·è¡Œï¼švite
```

#### å¯¦ä¾‹ 2ï¼šå»ºç½®å°ˆæ¡ˆï¼ˆnpm run buildï¼‰

`package.json` ç¯„ä¾‹ï¼š

```json
"scripts": {
  "build": "tsc && vite build"
}
```

**èªªæ˜**ï¼š

- çœŸæ­£çš„å®Œæ•´æŒ‡ä»¤å…¶å¯¦æ˜¯ï¼š`tsc && vite build`ï¼Œå°åˆå­¸è€…ä¾†èªªåˆé•·åˆé›£è¨˜
- æˆ‘å€‘å¹«å®ƒå–ä¸€å€‹ç°¡å–®çš„åå­—å« `build`ï¼Œä¹‹å¾Œåªè¦æ‰“ï¼š`npm run build` å°±ä»£è¡¨ã€Œå…ˆç·¨è­¯ TypeScriptï¼Œå†æ‰“åŒ… React å°ˆæ¡ˆã€
- **è¦ç”¢ç”Ÿæ­£å¼ç‰ˆæ™‚ï¼Œåªè¦è¨˜å¾—æ‰“ï¼š`npm run build`**

**æµç¨‹åœ–**ï¼š

```
å­¸ç”Ÿæ‰“ï¼šnpm run build
  â†“
npm æ‰¾ "build": "tsc && vite build"
  â†“
ä¾åºå¹«ä½ è·‘ tsc å†è·‘ vite build
```

#### å¯¦ä¾‹ 3ï¼šç¨‹å¼ç¢¼æª¢æŸ¥ã€æ¸¬è©¦ï¼ˆnpm run lint / npm testï¼‰

`package.json` å¯èƒ½æœ‰ï¼š

```json
"scripts": {
  "lint": "eslint . --ext ts,tsx",
  "test": "vitest"
}
```

**èªªæ˜**ï¼š

- ã€Œå¦‚æœä½ æƒ³æª¢æŸ¥ç¨‹å¼ç¢¼æœ‰æ²’æœ‰å•é¡Œï¼Œå°±æ‰“ï¼š`npm run lint`ã€‚ã€èƒŒå¾Œå¯¦éš›åœ¨è·‘çš„æ˜¯ `eslint . --ext ts,tsx`
- ã€Œå¦‚æœä½ è¦è·‘è‡ªå‹•åŒ–æ¸¬è©¦ï¼Œå°±æ‰“ï¼š`npm test`ã€‚ã€npm æœƒè‡ªå‹•å°æ‡‰åˆ° `"test": "vitest"` é€™å€‹è…³æœ¬

**é‡é»**ï¼šå­¸ç”Ÿä¸éœ€è¦èƒŒ `eslint . --ext ts,tsx` æˆ– `vitest`ï¼Œåªè¦è¨˜å¾—é‚£å¹¾å€‹å¸¸ç”¨æŒ‰éˆ•åç¨±ï¼š`dev` / `build` / `lint` / `test`ã€‚

#### ç‚ºä»€éº¼æœ‰æ™‚å€™æ˜¯ npm test / npm startï¼Œä¸ç”¨ runï¼Ÿ

åœ¨ `npm` è£¡æœ‰å…©å€‹ã€Œç‰¹ä¾‹åç¨±ã€ï¼š

- `npm start` æœƒè‡ªå‹•å°æ‡‰åˆ° `"start": "..."` é€™å€‹è…³æœ¬
- `npm test` æœƒè‡ªå‹•å°æ‡‰åˆ° `"test": "..."` é€™å€‹è…³æœ¬

**èªªæ˜**ï¼š

- ã€Œ`npm start` å°±ç­‰æ–¼ `npm run start`ï¼Œåªæ˜¯ npm å¹«ä½ çœç•¥äº† `run`ã€
- ã€Œ`npm test` ä¹Ÿæ˜¯ä¸€æ¨£çš„é“ç†ã€

**é‡è¦æ¦‚å¿µ**ï¼šèªæ³•ä¸åŒï¼Œä½†æ¦‚å¿µå®Œå…¨ä¸€æ¨£ï¼Œéƒ½æ˜¯åœ¨åŸ·è¡Œ package.json è£¡é¢å°æ‡‰çš„è…³æœ¬ã€‚

### åœ¨ TypeScript + React å°ˆæ¡ˆä¸­çš„å¸¸è¦‹ç”¨æ³•

é€™å¹¾è¡Œå¯ä»¥ç”¨ã€Œè“‹æˆ¿å­ã€çš„æ¯”å–»ä¾†è¬›ï¼šReact æ˜¯æˆ¿å­æœ¬é«”ï¼ŒTypeScript æ˜¯è¨­è¨ˆè—åœ–æª¢æŸ¥å·¥å…·ï¼ŒVite æ˜¯æ–½å·¥æ©Ÿå™¨ï¼ŒVitest / Testing Library æ˜¯é©—å±‹å·¥å…·ã€‚

#### åŸºæœ¬å®‰è£æŒ‡ä»¤

```bash
# å®‰è£ React å’Œç›¸é—œå¥—ä»¶
npm install react react-dom

# å®‰è£ TypeScript å’Œé¡å‹å®šç¾©ï¼ˆé–‹ç™¼ä¾è³´ï¼‰
npm install --save-dev typescript @types/react @types/react-dom

# å®‰è£å»ºç½®å·¥å…·ï¼ˆå¦‚ Viteï¼‰
npm install --save-dev vite @vitejs/plugin-react

# å®‰è£æ¸¬è©¦å·¥å…·
npm install --save-dev vitest @testing-library/react
```

#### å„å¥—ä»¶è©³ç´°èªªæ˜

##### 1. React / react-domï¼šçœŸçš„åœ¨è·‘çš„ç¨‹å¼

```bash
npm install react react-dom
```

**èªªæ˜**ï¼š

- **react**ï¼šè®“ä½ å¯ä»¥ç”¨ã€Œå…ƒä»¶ã€çš„æ–¹å¼å¯«ç•«é¢ï¼Œæ˜¯æ•´å€‹ç•«é¢çš„æ ¸å¿ƒç¨‹å¼åº«
- **react-dom**ï¼šè² è²¬æŠŠ React ç•«é¢ã€Œæ’é€²å»ã€ç€è¦½å™¨çš„ `<div id="root">` è£¡

**é‡é»**ï¼šæ²’æœ‰é€™å…©å€‹ï¼Œä½ æ ¹æœ¬è·‘ä¸èµ·ä»»ä½• React ç•«é¢ï¼Œç•«é¢å®Œå…¨å‡ºä¸ä¾†ã€‚é€™å…©å€‹å¥—ä»¶æ˜¯åŸ·è¡Œæ™‚å¿…éœ€çš„ï¼Œæ‰€ä»¥æ”¾åœ¨ `dependencies`ã€‚

##### 2. TypeScript + å‹åˆ¥å®šç¾©ï¼šå¹«ä½ æŠ“éŒ¯çš„è¼”åŠ©è¼ª

```bash
npm install --save-dev typescript @types/react @types/react-dom
```

**èªªæ˜**ï¼š

- **typescript**ï¼šè®“ä½ å¯ä»¥ç”¨ TypeScript å¯«ç¨‹å¼ï¼Œç·¨è­¯æ™‚å¹«ä½ æª¢æŸ¥å‹åˆ¥éŒ¯èª¤ï¼Œåƒç¨‹å¼çš„ã€Œæ‹¼å­—æª¢æŸ¥ + æ–‡æ³•æª¢æŸ¥ã€
- **@types/react / @types/react-dom**ï¼šæŠŠ React çš„ API è£œä¸Šå‹åˆ¥èªªæ˜ï¼Œè®“ç·¨è¼¯å™¨çŸ¥é“å“ªäº› props å¯ä»¥ç”¨ã€å‹åˆ¥æ˜¯ä»€éº¼

**é‡é»**ï¼šé€™äº›æ±è¥¿åªåœ¨é–‹ç™¼çš„æ™‚å€™ç”¨ä¾†å¹«ä½ æŠ“éŒ¯ï¼Œç·šä¸Šçµ¦ä½¿ç”¨è€…çœ‹çš„ç¨‹å¼ç¢¼è£¡ä¸æœƒåŒ…å«å®ƒå€‘ï¼Œæ‰€ä»¥æ”¾åœ¨ `devDependencies`ã€‚

##### 3. Vite / @vitejs/plugin-reactï¼šé–‹ç™¼æ™‚çš„ä¼ºæœå™¨ + æ‰“åŒ…æ©Ÿå™¨

```bash
npm install --save-dev vite @vitejs/plugin-react
```

**èªªæ˜**ï¼š

- **vite**ï¼šå¹«ä½ é–‹å•Ÿé–‹ç™¼ç”¨ç¶²ç«™ï¼ˆlocalhost:5173ï¼‰ï¼Œæ”¯æ´ä¸€é‚Šæ”¹ç¨‹å¼ä¸€é‚Šå³æ™‚æ›´æ–°ç•«é¢ï¼Œä¹Ÿå¹«ä½ æŠŠç¨‹å¼æ‰“åŒ…æˆæ­£å¼ç‰ˆæª”æ¡ˆ
- **@vitejs/plugin-react**ï¼šè®“ Vite è½å¾—æ‡‚ React / JSX / Fast Refresh ç­‰åŠŸèƒ½ï¼Œæ˜¯ Vite çš„ã€ŒReact å¤–æ›ã€

**é‡é»**ï¼šé€™å…©å€‹æ˜¯ã€Œé–‹ç™¼å·¥å…·ã€ï¼Œç”¨ä¾†å•Ÿå‹•å°ˆæ¡ˆè·Ÿæ‰“åŒ…ï¼Œä¸æ˜¯çµ¦ä½¿ç”¨è€…åœ¨ç€è¦½å™¨è£¡ç›´æ¥ç”¨çš„ã€‚

##### 4. Vitest / Testing Libraryï¼šè‡ªå‹•å¹«ä½ é©—æ”¶åŠŸèƒ½

```bash
npm install --save-dev vitest @testing-library/react
```

**èªªæ˜**ï¼š

- **vitest**ï¼šæ¸¬è©¦æ¡†æ¶ï¼Œè² è²¬è·‘ã€Œç¨‹å¼æ˜¯å¦ç…§é æœŸé‹ä½œã€çš„è‡ªå‹•åŒ–æ¸¬è©¦
- **@testing-library/react**ï¼šå¹«ä½ åœ¨æ¸¬è©¦è£¡æ¨¡æ“¬ä½¿ç”¨è€…æ“ä½œ React å…ƒä»¶ï¼ˆåƒé»æŒ‰éˆ•ã€è¼¸å…¥æ–‡å­—ï¼‰

**é‡é»**ï¼šé€™äº›æ˜¯ã€Œé©—å±‹å·¥å…·ã€ï¼Œæ˜¯å·¥ç¨‹å¸«è‡ªå·±ç”¨ä¾†ç¢ºèªç¨‹å¼æ²’å£æ‰çš„ï¼Œä¸æœƒæ”¾åˆ°æœ€å¾Œçµ¦ä½¿ç”¨è€…çœ‹çš„æª”æ¡ˆè£¡ã€‚

#### ä¸€å¥è©±ç‰ˆæœ¬ç¸½çµ

- **React / react-dom**ï¼š**ç•«é¢æœ¬é«”**ï¼Œç•«é¢è·‘èµ·ä¾†ä¸€å®šè¦æœ‰
- **TypeScript + @types**ï¼š**å¯«ç¨‹å¼æ™‚å¹«ä½ æŠ“éŒ¯çš„å·¥å…·**ï¼Œåªåœ¨é–‹ç™¼æ™‚ç”¨
- **Vite + plugin**ï¼š**å•Ÿå‹•æœ¬åœ°ç¶²ç«™èˆ‡æ‰“åŒ…çš„å·¥å…·**
- **Vitest + Testing Library**ï¼š**è‡ªå‹•å¹«ä½ æ¸¬è©¦åŠŸèƒ½æœ‰æ²’æœ‰å£æ‰çš„å·¥å…·**

---

## ğŸ“„ package.json æ˜¯ä»€éº¼ï¼Ÿ

### å®šç¾©

**package.json** æ˜¯ Node.js å°ˆæ¡ˆçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®šç¾©äº†å°ˆæ¡ˆçš„å…ƒæ•¸æ“šã€ä¾è³´å¥—ä»¶ã€è…³æœ¬æŒ‡ä»¤ç­‰è³‡è¨Šã€‚å®ƒæ˜¯å°ˆæ¡ˆçš„ã€Œèº«ä»½è­‰ã€å’Œã€Œèªªæ˜æ›¸ã€ã€‚

### åŸºæœ¬çµæ§‹

```json
{
  "name": "my-react-app",
  "version": "1.0.0",
  "description": "æˆ‘çš„ React + TypeScript å°ˆæ¡ˆ",
  "main": "index.js",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "@vitejs/plugin-react": "^4.0.0",
    "typescript": "^5.0.0",
    "vite": "^4.3.0"
  }
}
```

### é‡è¦æ¬„ä½èªªæ˜

#### 1. **åŸºæœ¬è³‡è¨Š**
- `name`: å°ˆæ¡ˆåç¨±ï¼ˆå¿…é ˆå”¯ä¸€ï¼Œå¦‚æœè¦ç™¼ä½ˆåˆ° npmï¼‰
- `version`: å°ˆæ¡ˆç‰ˆæœ¬è™Ÿï¼ˆéµå¾ªèªç¾©åŒ–ç‰ˆæœ¬ SemVerï¼‰
- `description`: å°ˆæ¡ˆæè¿°
- `license`: æˆæ¬Šæ–¹å¼ï¼ˆå¦‚ MITã€ISCï¼‰
- `author`: ä½œè€…è³‡è¨Š

#### 2. **scriptsï¼ˆè…³æœ¬æŒ‡ä»¤ï¼‰**

å®šç¾©å¯åœ¨ `npm run` å‘½ä»¤ä¸­åŸ·è¡Œçš„è…³æœ¬ï¼š

```json
"scripts": {
  "dev": "vite",                          // é–‹ç™¼ä¼ºæœå™¨
  "build": "tsc && vite build",           // ç·¨è­¯ TypeScript ä¸¦å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
  "build:prod": "npm run build",          // ç”Ÿç”¢ç’°å¢ƒå»ºç½®
  "preview": "vite preview",              // é è¦½å»ºç½®çµæœ
  "lint": "eslint . --ext ts,tsx",        // ç¨‹å¼ç¢¼æª¢æŸ¥
  "type-check": "tsc --noEmit",           // TypeScript é¡å‹æª¢æŸ¥
  "test": "vitest",                       // åŸ·è¡Œæ¸¬è©¦
  "clean": "rm -rf dist node_modules"     // æ¸…ç†å»ºç½®æª”æ¡ˆ
}
```

**ä½¿ç”¨æ–¹å¼**ï¼š
```bash
npm run dev        # å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run build      # å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
npm run lint       # åŸ·è¡Œç¨‹å¼ç¢¼æª¢æŸ¥
```

**æ ¸å¿ƒæ¦‚å¿µ**ï¼šé€™ä¸€æ®µå¯ä»¥æ•™å­¸ç”Ÿï¼šã€Œé€™æ˜¯å¹«å¸¸ç”¨å·¥ä½œå–ã€æŒ‡ä»¤å¿«æ·éµã€ï¼Œä»¥å¾Œåªè¦è¨˜ä½çŸ­åå­—å°±å¥½ï¼Œä¸ç”¨æ¯æ¬¡æ‰“é•·é•·çš„æŒ‡ä»¤ã€‚ã€

##### å¸¸ç”¨ scripts è©³ç´°èªªæ˜

- **dev: "vite"**  
  ã€Œé–‹ç™¼æ™‚ç”¨çš„æŒ‡ä»¤ã€‚ã€æ‰“ `npm run dev` å°±æœƒé–‹å•Ÿæœ¬åœ°é–‹ç™¼ä¼ºæœå™¨ï¼ˆä¾‹å¦‚ http://localhost:5173ï¼‰ï¼Œç•«é¢æœƒè·Ÿè‘—ç¨‹å¼ç¢¼å³æ™‚æ›´æ–°ã€‚

- **build: "tsc && vite build"**  
  ã€Œè¦ç”¢ç”Ÿæ­£å¼ç‰ˆç¶²ç«™æ™‚ç”¨ã€‚ã€æ‰“ `npm run build`ï¼Œæœƒå…ˆåš TypeScript ç·¨è­¯ï¼ˆ`tsc`ï¼‰ï¼Œå†ç”¨ Vite æŠŠå°ˆæ¡ˆæ‰“åŒ…æˆå¯ä»¥ä¸Šç·šæ”¾åˆ°ä¼ºæœå™¨çš„æª”æ¡ˆï¼ˆè¼¸å‡ºåˆ° dist/ï¼‰ã€‚

- **build:prod: "npm run build"**  
  ã€Œçµ¦ã€æ­£å¼ç’°å¢ƒã€ç”¨çš„åˆ¥åã€‚ã€æ‰“ `npm run build:prod`ï¼Œå…¶å¯¦å°±æ˜¯å†å»åŸ·è¡Œä¸€æ¬¡ `npm run build`ï¼Œå¾ˆå¤šåœ˜éšŠç¿’æ…£æŠŠã€Œæ­£å¼ç’°å¢ƒå»ºç½®ã€å‘½åæˆ `build:prod`ï¼Œæ¯”è¼ƒå¥½çœ‹å¾—æ‡‚ã€‚

- **preview: "vite preview"**  
  ã€Œæ¨¡æ“¬ä¸Šç·šå¾Œæœƒé•·ä»€éº¼æ¨£ã€‚ã€å…ˆ `npm run build` ç”¢ç”Ÿ dist/ï¼Œå†æ‰“ `npm run preview`ï¼Œå°±å¯ä»¥åœ¨æœ¬æ©Ÿç”¨é¡ä¼¼æ­£å¼ç’°å¢ƒçš„æ–¹å¼ç€è¦½æ‰“åŒ…å¾Œçš„ç¶²ç«™ã€‚

- **lint: "eslint . --ext ts,tsx"**  
  ã€Œå¹«ä½ æª¢æŸ¥ç¨‹å¼ç¢¼å¯«å¾—å¥½ä¸å¥½ã€‚ã€æ‰“ `npm run lint`ï¼ŒESLint æœƒæƒææ‰€æœ‰ ts / tsx æª”ï¼Œæ‰¾å‡ºä¸æ¨è–¦çš„å¯«æ³•æˆ–æ½›åœ¨ bugï¼Œåƒå¯«ç¨‹å¼çš„æ–‡æ³•è€å¸«ã€‚

- **type-check: "tsc --noEmit"**  
  ã€Œåªæª¢æŸ¥ TypeScript å‹åˆ¥ï¼Œä¸ç”¢ç”Ÿæª”æ¡ˆã€‚ã€æ‰“ `npm run type-check`ï¼Œæœƒæª¢æŸ¥å‹åˆ¥éŒ¯èª¤ï¼Œä½†ä¸è¼¸å‡º jsï¼Œå¸¸åœ¨ CI æˆ–æäº¤å‰ç¢ºèªæ²’æœ‰å‹åˆ¥å•é¡Œã€‚

- **test: "vitest"**  
  ã€Œè‡ªå‹•è·‘æ¸¬è©¦ã€‚ã€æ‰“ `npm test` æˆ– `npm run test`ï¼ŒVitest æœƒåŸ·è¡Œæ¸¬è©¦æª”æ¡ˆï¼Œå¹«ä½ ç¢ºèªåŠŸèƒ½é‚„æ­£å¸¸ï¼Œé¿å…æ”¹ä¸€æ®µç¨‹å¼å®³å…¶ä»–åœ°æ–¹å£æ‰ã€‚

- **clean: "rm -rf dist node_modules"**  
  ã€ŒæŠŠç’°å¢ƒæ•´å€‹æ¸…ä¹¾æ·¨ã€‚ã€æ‰“ `npm run clean`ï¼Œæœƒåˆªæ‰æ‰“åŒ…è¼¸å‡ºçš„ dist/ å’Œæ‰€æœ‰å¥—ä»¶çš„ node_modules/ï¼Œé€šå¸¸æ˜¯ç’°å¢ƒå£æ‰æ™‚é‡ä¾†ç”¨çš„æŒ‡ä»¤ï¼Œ**è¦æé†’å­¸ç”Ÿé€™å€‹æœƒåˆªå¾ˆå¤šæ±è¥¿ï¼Œä½¿ç”¨å‰è¦è¬¹æ…**ã€‚

##### èª²å ‚ä¸Šå¯ä»¥ç›´æ¥èªªçš„ç‰ˆæœ¬

- ã€Œé€™å€‹ `scripts` å€å¡Šæ˜¯åœ¨å¹«å¸¸åšçš„äº‹æƒ…å–åå­—ã€‚ã€
- ã€Œä»¥å¾Œä½ åªè¦è¨˜ä½å¹¾å€‹ï¼š`npm run dev` é–‹ç™¼ã€`npm run build` æ‰“åŒ…ã€`npm run preview` çœ‹æ‰“åŒ…å¾Œçµæœã€`npm run lint` æª¢æŸ¥ç¨‹å¼ã€`npm test` è·‘æ¸¬è©¦ã€‚ã€
- ã€ŒèƒŒå¾Œé‚£ä¸²è‹±æ–‡æ˜¯é›»è…¦çœŸæ­£åŸ·è¡Œçš„æŒ‡ä»¤ï¼Œå…ˆä¸ç”¨èƒŒï¼Œæœƒç”¨é€™å¹¾å€‹å¿«æ·éµå°±å¤ äº†ã€‚ã€

#### 3. **dependenciesï¼ˆç”Ÿç”¢ä¾è³´ï¼‰**

å°ˆæ¡ˆé‹è¡Œæ™‚éœ€è¦çš„å¥—ä»¶ï¼Œæœƒè¢«æ‰“åŒ…åˆ°æœ€çµ‚ç”¢å“ä¸­ï¼š

```json
"dependencies": {
  "react": "^18.2.0",
  "react-dom": "^18.2.0",
  "react-router-dom": "^6.15.0"
}
```

#### 4. **devDependenciesï¼ˆé–‹ç™¼ä¾è³´ï¼‰**

åªåœ¨é–‹ç™¼æ™‚éœ€è¦çš„å¥—ä»¶ï¼Œä¸æœƒè¢«æ‰“åŒ…åˆ°ç”Ÿç”¢ç‰ˆæœ¬ï¼š

```json
"devDependencies": {
  "typescript": "^5.2.0",
  "@types/react": "^18.2.0",
  "@types/react-dom": "^18.2.0",
  "@vitejs/plugin-react": "^4.0.9",
  "vite": "^4.4.5",
  "eslint": "^8.47.0",
  "@typescript-eslint/parser": "^6.4.0"
}
```

**ç‚ºä»€éº¼è¦åˆ†é–‹ï¼Ÿ**
- æ¸›å°‘ç”Ÿç”¢ç‰ˆæœ¬çš„æª”æ¡ˆå¤§å°
- æ˜ç¢ºå€åˆ†é–‹ç™¼å·¥å…·å’Œé‹è¡Œæ™‚ä¾è³´
- æé«˜å®‰è£é€Ÿåº¦ï¼ˆåœ¨ç”Ÿç”¢ç’°å¢ƒåªéœ€å®‰è£ dependenciesï¼‰

#### 5. **å…¶ä»–é‡è¦æ¬„ä½**

```json
{
  "type": "module",                    // ä½¿ç”¨ ES æ¨¡çµ„ï¼ˆimport/exportï¼‰
  "main": "dist/index.js",             // ä¸»è¦é€²å…¥é»
  "module": "dist/index.esm.js",       // ES æ¨¡çµ„ç‰ˆæœ¬
  "types": "dist/index.d.ts",          // TypeScript é¡å‹å®šç¾©æª”æ¡ˆ
  "engines": {                         // Node.js ç‰ˆæœ¬è¦æ±‚
    "node": ">=18.0.0"
  },
  "browserslist": [                    // ç€è¦½å™¨æ”¯æ´ç¯„åœ
    "> 1%",
    "last 2 versions"
  ]
}
```

---

## ğŸ”„ ä¸‰è€…ä¹‹é–“çš„é—œä¿‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Node.js       â”‚  â† åŸ·è¡Œç’°å¢ƒï¼ˆé‹è¡Œ JavaScriptï¼‰
â”‚   (åŸ·è¡Œç’°å¢ƒ)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ å…§å»º
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   npm           â”‚  â† å¥—ä»¶ç®¡ç†å™¨ï¼ˆå®‰è£ã€ç®¡ç†å¥—ä»¶ï¼‰
â”‚   (å·¥å…·)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ è®€å–/å¯«å…¥
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ package.json    â”‚  â† é…ç½®æ–‡ä»¶ï¼ˆå®šç¾©å°ˆæ¡ˆè³‡è¨Šï¼‰
â”‚   (é…ç½®)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å·¥ä½œæµç¨‹

1. **åˆå§‹åŒ–å°ˆæ¡ˆ**
   ```bash
   npm init -y              # å‰µå»º package.json
   ```

2. **å®‰è£ä¾è³´**
   ```bash
   npm install react        # npm è®€å– package.jsonï¼Œå®‰è£å¥—ä»¶åˆ° node_modules
   ```

3. **åŸ·è¡Œè…³æœ¬**
   ```bash
   npm run build            # npm è®€å– package.json çš„ scriptsï¼ŒåŸ·è¡Œå»ºç½®æŒ‡ä»¤
   ```

---

## ğŸš€ åœ¨ TypeScript + React å°ˆæ¡ˆä¸­çš„å¯¦éš›æ‡‰ç”¨

### å…¸å‹çš„å·¥ä½œæµç¨‹

#### 1. **å°ˆæ¡ˆåˆå§‹åŒ–**

```bash
# å‰µå»ºæ–°å°ˆæ¡ˆ
npm create vite@latest my-react-app -- --template react-ts

# é€²å…¥å°ˆæ¡ˆç›®éŒ„
cd my-react-app

# å®‰è£ä¾è³´
npm install
```

#### 2. **é–‹ç™¼éšæ®µ**

```json
"scripts": {
  "dev": "vite",                    // å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼ˆæ”¯æ´ç†±é‡è¼‰ï¼‰
  "type-check": "tsc --noEmit"      // æª¢æŸ¥ TypeScript é¡å‹éŒ¯èª¤
}
```

```bash
npm run dev              # å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼ˆé€šå¸¸åœ¨ http://localhost:5173ï¼‰
```

#### 3. **å»ºç½®éšæ®µ**

```json
"scripts": {
  "build": "tsc && vite build"      // ç·¨è­¯ TypeScript + æ‰“åŒ… React æ‡‰ç”¨
}
```

```bash
npm run build            # ç”Ÿæˆç”Ÿç”¢ç‰ˆæœ¬çš„æª”æ¡ˆåˆ° dist/ ç›®éŒ„
```

#### 4. **éƒ¨ç½²éšæ®µ**

```bash
# ç”Ÿç”¢ç’°å¢ƒå®‰è£ï¼ˆåªå®‰è£ dependenciesï¼Œä¸å®‰è£ devDependenciesï¼‰
npm install --production

# å»ºç½®å°ˆæ¡ˆ
npm run build

# éƒ¨ç½² dist/ ç›®éŒ„çš„å…§å®¹åˆ°éœæ…‹ç¶²ç«™æ‰˜ç®¡æœå‹™
# ï¼ˆå¦‚ Vercelã€Netlifyã€GitHub Pages ç­‰ï¼‰
```

---

## ğŸ“¦ package-lock.json å’Œ node_modules

### package-lock.json

- **ä½œç”¨**ï¼šé–å®šæ‰€æœ‰ä¾è³´å¥—ä»¶çš„ç¢ºåˆ‡ç‰ˆæœ¬
- **é‡è¦æ€§**ï¼šç¢ºä¿ä¸åŒç’°å¢ƒä¸‹å®‰è£ç›¸åŒç‰ˆæœ¬çš„å¥—ä»¶
- **å»ºè­°**ï¼šæ‡‰è©²æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»çµ±ï¼ˆGitï¼‰

### node_modules

- **ä½œç”¨**ï¼šå­˜æ”¾æ‰€æœ‰å®‰è£çš„å¥—ä»¶å’Œå…¶ä¾è³´
- **ç‰¹é»**ï¼šæª”æ¡ˆå¾ˆå¤§ï¼Œé€šå¸¸ä¸æ‡‰è©²æäº¤åˆ° Git
- **ç®¡ç†**ï¼šé€šé `.gitignore` æ’é™¤ï¼Œé€é `npm install` é‡æ–°ç”Ÿæˆ

---

## ğŸ¯ æœ€ä½³å¯¦è¸

1. **ç‰ˆæœ¬ç®¡ç†**
   - ä½¿ç”¨èªç¾©åŒ–ç‰ˆæœ¬ï¼ˆSemVerï¼‰
   - ä½¿ç”¨ `^` æˆ– `~` æ§åˆ¶ç‰ˆæœ¬æ›´æ–°ç¯„åœ

2. **ä¾è³´åˆ†é¡**
   - æ˜ç¢ºå€åˆ† `dependencies` å’Œ `devDependencies`
   - ç”Ÿç”¢ç’°å¢ƒåªéœ€ `dependencies`

3. **è…³æœ¬çµ„ç¹”**
   - ä½¿ç”¨æè¿°æ€§çš„è…³æœ¬åç¨±
   - çµ„åˆå¤šå€‹æŒ‡ä»¤æ™‚ä½¿ç”¨ `&&`

4. **ç’°å¢ƒè®Šæ•¸**
   - ä½¿ç”¨ `.env` æª”æ¡ˆç®¡ç†ç’°å¢ƒè®Šæ•¸
   - ä¸åŒç’°å¢ƒä½¿ç”¨ä¸åŒçš„é…ç½®æª”æ¡ˆ

5. **å®‰å…¨æ€§**
   - å®šæœŸæ›´æ–°ä¾è³´å¥—ä»¶
   - ä½¿ç”¨ `npm audit` æª¢æŸ¥å®‰å…¨æ€§æ¼æ´

---

## ğŸ”— ç›¸é—œè³‡æº

- [Node.js å®˜æ–¹æ–‡ä»¶](https://nodejs.org/zh-tw/docs)
- [npm å®˜æ–¹æ–‡ä»¶](https://docs.npmjs.com/)
- [package.json å®Œæ•´æ–‡ä»¶](https://docs.npmjs.com/cli/v9/configuring-npm/package-json)
- [èªç¾©åŒ–ç‰ˆæœ¬è¦ç¯„](https://semver.org/lang/zh-TW/)

---

## ğŸ“ ç¸½çµ

- **Node.js**ï¼šæä¾› JavaScript åŸ·è¡Œç’°å¢ƒï¼Œè®“å‰ç«¯é–‹ç™¼å·¥å…·å¾—ä»¥é‹è¡Œ
- **npm**ï¼šç®¡ç†å°ˆæ¡ˆçš„å¥—ä»¶ä¾è³´ï¼Œæ˜¯å®‰è£å’Œç®¡ç†å·¥å…·çš„ä»‹é¢
- **package.json**ï¼šå®šç¾©å°ˆæ¡ˆé…ç½®ï¼Œæ˜¯å°ˆæ¡ˆçš„ã€Œèªªæ˜æ›¸ã€å’Œã€ŒæŒ‡ä»¤é›†ã€

ä¸‰è€…å”åŒå·¥ä½œï¼Œæ§‹æˆäº†ç¾ä»£å‰ç«¯é–‹ç™¼ï¼ˆç‰¹åˆ¥æ˜¯ TypeScript + Reactï¼‰çš„åŸºç¤æ¶æ§‹ï¼Œè®“é–‹ç™¼è€…èƒ½å¤ é«˜æ•ˆåœ°é–‹ç™¼ã€å»ºç½®å’Œéƒ¨ç½²æ‡‰ç”¨ç¨‹å¼ã€‚
